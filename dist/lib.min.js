!function(a,b){"use strict";a.WEB_COMPONENTS.allex_web_webappcomponent={abstractions:{},resources:{},APP:null,elements:{}}}(ALLEX,ALLEX.WEB_COMPONENTS.allex_applib),function(a,b,c,d){"use strict";function e(a,b){g.call(this,a,b),this.$element=null,this.loaded=null,this.in_progress=null}var f=a.lib,g=c.BasicElement,h=c.resourceFactory,i=f.q;f.inherit(e,g),e.prototype.__cleanUp=function(){this.in_progress&&this.in_progress.reject(new Error("Going down...")),this.in_progress=null,this.loaded=null,this.$element=null,g.prototype.__cleanUp.call(this)},e.prototype.initialize=function(){if(g.prototype.initialize.call(this),this.$element=this.__parent.$element.find("#"+this.get("id")),!this.$element||!this.$element.length)throw new Error("Unable to find DOM element "+this.get("id"));this.set_actual(this.get("actual"))},e.prototype.set_actual=function(a){if(g.prototype.set_actual.call(this,a),this.$element)if(a)if(this.loaded)this.show();else{var b=this.load();b.done(this.set.bind(this,"loaded",!0)),b.done(this.show.bind(this)),this.set("in_progress",b)}else this.hide(),this.unload(),this.set("loaded",!1)},e.prototype.load=function(){var a=this.getConfigVal("resources");return a&&a.length?i.all(a.map(h)):i.resolve("ok")},e.prototype.unload=function(){throw new Error("Unload not implemented")},e.prototype.show=function(){this.$element.show()},e.prototype.hide=function(){this.$element.hide()},e.ResourcesSchema={type:"array",items:{type:"object",properties:{type:{type:"string"},name:{type:"string"},options:{type:"object"}},additionalProperties:!1,required:["type","name"]}},b.abstractions.WebElement=e}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery),function(a,b,c,d){"use strict";function e(a,b){g.call(this,a,b)}var f=a.lib,g=b.abstractions.WebElement,h=c.BasicElement;f.q;f.inherit(e,g),e.prototype.__cleanUp=function(){g.prototype.__cleanUp.call(this)},e.prototype.initialize=function(){if(this.$element=d("body #"+this.get("id")),!this.$element.length)throw new Error("Unable to find page element "+this.get("id")+" as body child");h.prototype.initialize.call(this)},e.prototype.createElements=function(a){return g.prototype.createElements.call(this,a)},b.abstractions.WebPage=e}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery),function(a,b,c){"use strict";function d(a){f.call(this,a),this.zl=null}var e=a.lib,f=c.BasicResourceLoader,g=ALLEX.WEB_COMPONENTS["allex_vektr.imageanimations"].ZipLoader,h={type:"object",properties:{url:{type:"string"},extractor:{type:"string"}},required:["url"]};e.inherit(d,f),d.prototype.__cleanUp=function(){f.prototype.__cleanUp.call(this)},d.prototype.load=function(){var a=this.getConfigVal("extractor");this.zl=new g(a?new RegExp(a):null);var b=this.zl.load(this.getConfigVal("url"));return b.done(console.log.bind(console,"gotovo"),console.log.bind(console,"puklo")),b},d.prototype.CONFIG_SCHEMA=function(){return h},d.prototype.DEFAULT_CONFIG=function(){return null},d.prototype.get=function(a){return this.zl?this.zl.result.get(a):null},b.resources.AnimatedImageZipLibrary=d,c.registerResourceType("AnimatedImageZipLibrary",d)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib),function(a,b,c,d){"use strict";function e(a){if(g.call(this,a),!window.WebFont)throw new Error("No WebFont component loaded, unable to load resource")}var f=a.lib,g=c.BasicResourceLoader,h=f.q,i={type:"object",properties:{urls:{type:"array",items:{type:"string"}},families:{type:"array",items:{type:"string"}}}};f.inherit(e,g),e.prototype.__cleanUp=function(){g.prototype.__cleanUp.call(this)},e.prototype.CONFIG_SCHEMA=function(){return i},e.prototype.DEFAULT_CONFIG=function(){return null},e.prototype.load=function(){var a=h.defer();return d(document).ready(this._go.bind(this,a)),a.promise},e.prototype._go=function(a){WebFont.load({custom:{families:this.getConfigVal("families"),urls:this.getConfigVal("urls")},active:a.resolve.bind(a,"ok")})},b.resources.FontLoader=e,c.registerResourceType("FontLoader",e)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery);