!function(a,b,c){"use strict";function d(a,b){h.call(this,a,b),this.name=b,this.listener=null}function e(a,b){h.call(this,a,b),this.name=b,this.listener=null}function f(a,b){i.call(this,a,b);var c=b.split(".");this.method="class"===c[0]?"addClass":c[0],this.removeMethod=this._chooseRemover(),this.prop=c[1]}var g=a.lib,h=c.eventEmitterHandlingRegistry.EventEmitterHandler,i=c.propertyTargetHandlingRegistry.PropertyTargetHandler;g.inherit(d,h),d.prototype.destroy=function(){this.listener&&this.emitter.off(this.name,this.listener),this.listener=null,this.name=null,h.prototype.destroy.call(this)},d.prototype.raiseEvent=function(){this.emitter.trigger.call(this.emitter,this.name,Array.prototype.slice.call(arguments))},d.prototype.listenToEvent=function(a){return this.listener?void 0:(this.listener=a,"change"===this.name?this.emitter.on(this.name,this._handleChange.bind(this,a)):this.emitter.on(this.name,a),this)},d.prototype._handleChange=function(a,b){a(jQuery(b.target).val())},d.recognizer=function(a){return a&&a.emitter&&a.emitter.is&&a.emitter.is("input")&&g.isFunction(a.emitter.on)&&g.isFunction(a.emitter.off)&&g.isFunction(a.emitter.bind)&&g.isFunction(a.emitter.unbind)&&g.isFunction(a.emitter.trigger)?d:void 0},c.eventEmitterHandlingRegistry.register(d.recognizer),g.inherit(e,h),e.prototype.destroy=function(){this.listener&&this.emitter.off(this.name,this.listener),this.listener=null,this.name=null,h.prototype.destroy.call(this)},e.prototype.raiseEvent=function(){this.emitter.trigger.call(this.emitter,this.name,Array.prototype.slice.call(arguments))},e.prototype.listenToEvent=function(a){return this.listener?void 0:(this.listener=a,this.emitter.on(this.name,a),this)},e.recognizer=function(a){return a&&a.emitter&&g.isFunction(a.emitter.on)&&g.isFunction(a.emitter.off)&&g.isFunction(a.emitter.bind)&&g.isFunction(a.emitter.unbind)&&g.isFunction(a.emitter.trigger)?e:void 0},c.eventEmitterHandlingRegistry.register(e.recognizer),g.inherit(f,i),f.prototype.destroy=function(){this.removeMethod=null,this.method=null,this.prop=null,this.method=null,i.prototype.destroy.call(this)},f.prototype._chooseRemover=function(){switch(this.method){case"attr":return"removeAttr";case"class":return"removeClass";case"prop":return"removeProp";case"css":return"css"}},f.prototype.handle=function(a){this.carrier[g.isUndef(a)?this.removeMethod:this.method](this.prop,a)},f.recognizer=function(a){var b=a.name.split(".");if("attr"===b[0]||"css"===b[0]||"prop"===b[0]||"class"===b[0])return a&&a.carrier&&g.isFunction(a.carrier.on)&&g.isFunction(a.carrier.off)&&g.isFunction(a.carrier.bind)&&g.isFunction(a.carrier.unbind)&&g.isFunction(a.carrier.trigger)?f:void 0},c.propertyTargetHandlingRegistry.register(f.recognizer),a.WEB_COMPONENTS.allex_web_webappcomponent={resources:{},APP:null,elements:{},mixins:{}}}(ALLEX,ALLEX.WEB_COMPONENTS.allex_applib,ALLEX.WEB_COMPONENTS.allex_applinkinglib),function(a,b,c,d){"use strict";function e(a,b){g.call(this,a,b),this.$element=null,this.loaded=null,this.in_progress=null}var f=a.lib,g=c.BasicElement,h=c.resourceFactory,i=f.q;f.inherit(e,g),e.prototype.__cleanUp=function(){this.in_progress&&this.in_progress.reject(new Error("Going down...")),this.in_progress=null,this.loaded=null,this.$element=null,g.prototype.__cleanUp.call(this)},e.prototype.initialize=function(){if(g.prototype.initialize.call(this),this.$element=d("#"+this.get("id")),!this.$element||!this.$element.length)throw new Error("Unable to find DOM element "+this.get("id"));this.set_actual(this.get("actual"))},e.prototype.set_actual=function(a){var b=g.prototype.set_actual.call(this,a);if(!this.$element)return b;if(a)if(this.loaded)this.show();else{var c=this.load();c.done(this.set.bind(this,"loaded",!0)),c.done(this.show.bind(this)),this.set("in_progress",c)}else this.hide(),this.set("loaded",!1);return b},e.prototype.set_loaded=function(a){if(this.loaded==a)return!1;var b=this.loaded;return this.loaded=a,!a&&b&&this.unload(),!0},e.prototype.load=function(){var a=this.getConfigVal("resources");if(!a||!a.length)return i.resolve("ok");var b=i.all(a.map(h)),d=c.getResource("MainThrobber");return d&&d.addPromise(b),b},e.prototype.unload=f.dummyFunc,e.prototype.show=function(){this.$element.show()},e.prototype.hide=function(){this.$element.hide()},e.prototype.getElement=function(a){return 0===a.indexOf("$element.")?this.$element.find("#"+a.replace("$element.","")):0===a.indexOf(".$element.")?this.$element.find("#"+a.replace(".$element.","")):(a=a.replace(/^\./,""),"$element"===a?this.$element:"."===a?this.getMeAsElement():this.childAtPath(a))},e.prototype.findById=function(a){return"$element"===a?this.$element:g.prototype.findById.call(this,a)},e.prototype.getMeAsElement=function(){return this},e.prototype.findDomReference=function(a){if(!a)throw new Error("No type given");var b=this.id;return jQuery("#references #references_"+b+" #references_"+b+"_"+a)},e.ResourcesSchema={type:"array",items:{type:"object",properties:{type:{type:"string"},name:{type:"string"},options:{type:"object"}},additionalProperties:!1,required:["type","name"]}},b.elements.WebElement=e,c.registerElementType("WebElement",e)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery),function(a,b,c){"use strict";function d(a){f.call(this,a),this.zl=null}var e=a.lib,f=c.BasicResourceLoader,g={type:"object",properties:{url:{type:"string"},extractor:{type:"string"}},required:["url"]};e.inherit(d,f),d.prototype.__cleanUp=function(){f.prototype.__cleanUp.call(this)},d.prototype.load=function(){var a=this.getConfigVal("extractor"),b=ALLEX.WEB_COMPONENTS["allex_vektr.imageanimations"].ZipLoader;this.zl=new b(a?new RegExp(a):null);var c=this.zl.load(this.getConfigVal("url"));return c.done(console.log.bind(console,"gotovo"),console.log.bind(console,"puklo")),c},d.prototype.CONFIG_SCHEMA=function(){return g},d.prototype.DEFAULT_CONFIG=function(){return null},d.prototype.get=function(a){return this.zl?this.zl.result.get(a):null},b.resources.AnimatedImageZipLibrary=d,c.registerResourceType("AnimatedImageZipLibrary",d)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib),function(a,b,c,d){"use strict";function e(a){if(g.call(this,a),!window.WebFont)throw new Error("No WebFont component loaded, unable to load resource")}var f=a.lib,g=c.BasicResourceLoader,h=f.q,i={type:"object",properties:{urls:{type:"array",items:{type:"string"}},families:{type:"array",items:{type:"string"}}}};f.inherit(e,g),e.prototype.__cleanUp=function(){g.prototype.__cleanUp.call(this)},e.prototype.CONFIG_SCHEMA=function(){return i},e.prototype.DEFAULT_CONFIG=function(){return null},e.prototype.load=function(){var a=h.defer();return d(document).ready(this._go.bind(this,a)),a.promise},e.prototype._go=function(a){WebFont.load({custom:{families:this.getConfigVal("families"),urls:this.getConfigVal("urls")},active:a.resolve.bind(a,"ok")})},b.resources.FontLoader=e,c.registerResourceType("FontLoader",e)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery),function(a,b,c,d){"use strict";function e(a){g.call(this,a),this.$element=null,this.pending=[]}var f=a.lib,g=c.BasicResourceLoader,h=f.q,i={type:"object",properties:{selector:{type:"string"},searchForCurrent:{type:"boolean"}},required:["selector"]};f.inherit(e,g),e.prototype.__cleanUp=function(){this.pending=null,this.$element=null,g.prototype.__cleanUp.call(this)},e.prototype.CONFIG_SCHEMA=function(){return i},e.prototype.DEFAULT_CONFIG=function(){return null},e.prototype.load=function(){var a=h.defer();return d(document).ready(this._go.bind(this,a)),a.promise},e.prototype._go=function(a){return this.$element=d(this.getConfigVal("selector")),this.$element&&this.$element.length?this.getConfigVal("searchForCurrent")?(c.traverseResources(this._inspectResource.bind(this)),this.recheckPendings(),a.resolve("ok")):(this.$element.hide(),a.resolve("ok"),a.promise):a.reject(new Error("Unable to find throbber"))},e.prototype._inspectResource=function(a,b){this!==a.instance&&this.addPromise(a.promise)},e.prototype.addPromise=function(a){this.pending.push(a),a.done(this._onPromiseDone.bind(this,a),this._onPromiseDone.bind(this,a)),this.recheckPendings()},e.prototype._onPromiseDone=function(a){var b=this.pending.indexOf(a);0>b||(this.pending.splice(b,1),this.recheckPendings())},e.prototype.recheckPendings=function(){this.pending.length?this.$element.show():this.$element.hide()},b.resources.Throbber=e,c.registerResourceType("Throbber",e)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib,jQuery),function(a,b,c){"use strict";function d(){this.data=null}var e=a.lib;e.BasicAngularController,e.q;d.prototype.__cleanUp=function(){this.data=null},d.prototype.set_data=function(a){var b=this.getConfigVal("dataHandler");return e.isFunction(b)?b(this.$element,a):this.data===a?!1:(this.data=a,!0)},d.prototype.hasDataChanged=function(a){return e.isUndef(a)||a===!0},d.addMethods=function(a){e.inheritMethods(a,d,"set_data","hasDataChanged")},b.mixins.DataElementMixIn=d}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib),function(a,b,c){"use strict";function d(a,b){f.call(this,a,b),g.call(this)}var e=a.lib,f=b.elements.WebElement,g=b.mixins.DataElementMixIn;e.inherit(d,f),g.addMethods(d),d.prototype.__cleanUp=function(){g.prototype.__cleanUp.call(this),f.prototype.__cleanUp.call(this)},b.elements.DataAwareElement=d,c.registerElementType("DataAwareElement",d)}(ALLEX,ALLEX.WEB_COMPONENTS.allex_web_webappcomponent,ALLEX.WEB_COMPONENTS.allex_applib);